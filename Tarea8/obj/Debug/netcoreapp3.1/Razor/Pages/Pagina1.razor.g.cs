#pragma checksum "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "937a1634ed989b6e8dcd556fc79b4875200aa39c"
// <auto-generated/>
#pragma warning disable 1591
namespace Tarea8.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Tarea8;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Tarea8.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/pagina1")]
    public partial class Pagina1 : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<div class=\"card rounded border border-primary\">\r\n<div class=\"card-head bg-primary\">\r\n<h3 class=\"text-center text-white\"><strong>Registro de vacuna</strong></h3>\r\n</div>\r\n</div>\r\n<br>\r\n\r\n");
            __builder.OpenElement(1, "form");
            __builder.AddMarkupContent(2, "\r\n\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "input-group mb-3");
            __builder.AddMarkupContent(5, "\r\n\r\n  ");
            __builder.AddMarkupContent(6, "<div class=\"input-group-prepend\"><br>\r\n    <span class=\"input-group-text\" id=\"basic-addon1\">Cedula</span>\r\n  </div>\r\n         ");
            __builder.OpenElement(7, "input");
            __builder.AddAttribute(8, "type", "text");
            __builder.AddAttribute(9, "class", "form-control");
            __builder.AddAttribute(10, "id", "txtcedula");
            __builder.AddAttribute(11, "placeholder", "Ingrese el Numero de Cedula");
            __builder.AddAttribute(12, "aria-describedby", "cedulaHelp");
            __builder.AddAttribute(13, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 16 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                                                                                                       cedula

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(14, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cedula = __value, cedula));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(15, "\r\n\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(16, "\r\n    ");
            __builder.AddMarkupContent(17, "<div id=\"cedulaHelp\" class=\"form-text\">La cédula debe tener 11 dígitos, no digite los guiones</div>\r\n    <br>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    ");
            __builder.OpenElement(18, "select");
            __builder.AddAttribute(19, "class", "form-select");
            __builder.AddAttribute(20, "aria-label", "Default select example");
            __builder.AddAttribute(21, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 28 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                                                           vacuna

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(22, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => vacuna = __value, vacuna));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(23, "\r\n        ");
            __builder.OpenElement(24, "option");
            __builder.AddAttribute(25, "selected", true);
            __builder.AddContent(26, "Elija la marca de la vacuna");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n");
#nullable restore
#line 30 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
         foreach (var v in vacunas)
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(28, "            ");
            __builder.OpenElement(29, "option");
            __builder.AddAttribute(30, "value", 
#nullable restore
#line 32 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                            v.MARCA

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(31, 
#nullable restore
#line 32 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                      v.MARCA

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n");
#nullable restore
#line 33 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(33, "    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n\r\n    <br>\r\n\r\n    ");
            __builder.OpenElement(35, "select");
            __builder.AddAttribute(36, "class", "form-select");
            __builder.AddAttribute(37, "aria-label", "Default select example");
            __builder.AddAttribute(38, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 38 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                                                           provincia

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(39, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => provincia = __value, provincia));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(40, "\r\n        ");
            __builder.OpenElement(41, "option");
            __builder.AddAttribute(42, "selected", true);
            __builder.AddContent(43, "Elija su provincia");
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\r\n");
#nullable restore
#line 40 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
         foreach (var p in provincias)
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(45, "            ");
            __builder.OpenElement(46, "option");
            __builder.AddAttribute(47, "value", 
#nullable restore
#line 42 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                            p.NOMBRE

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(48, 
#nullable restore
#line 42 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                       p.NOMBRE

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(49, "\r\n");
#nullable restore
#line 43 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(50, "    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n\r\n    <br>\r\n\r\n    ");
            __builder.OpenElement(52, "div");
            __builder.AddAttribute(53, "class", "mb-3");
            __builder.AddMarkupContent(54, "\r\n        ");
            __builder.AddMarkupContent(55, "<label for=\"txtfecha\" class=\"form-label\">Fecha</label>\r\n        ");
            __builder.OpenElement(56, "input");
            __builder.AddAttribute(57, "type", "date");
            __builder.AddAttribute(58, "class", "form-control");
            __builder.AddAttribute(59, "id", "txtfecha");
            __builder.AddAttribute(60, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 50 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                                                           fecha

#line default
#line hidden
#nullable disable
            , format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(61, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => fecha = __value, fecha, format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(62, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(63, "\r\n\r\n    <br>\r\n\r\n    ");
            __builder.OpenElement(64, "button");
            __builder.AddAttribute(65, "class", "btn btn-primary");
            __builder.AddAttribute(66, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 55 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
                                              registrarVacuna

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(67, "Registrar");
            __builder.CloseElement();
            __builder.AddMarkupContent(68, "\r\n\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(69, "\r\n\r\n");
            __builder.AddContent(70, 
#nullable restore
#line 59 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
 API

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(71, "\r\n\r\n");
#nullable restore
#line 61 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
 if (resultado != null)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(72, "    ");
            __builder.OpenElement(73, "h3");
            __builder.AddContent(74, 
#nullable restore
#line 63 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
         resultado.mensaje

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(75, "\r\n");
#nullable restore
#line 64 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 66 "/home/elmer/Desktop/tareas_de_p3/Tarea8/Tarea8/Pages/Pagina1.razor"
       

    protected override async Task OnInitializedAsync()
    {

        var api1 = "https://api-vacuna.herokuapp.com/api/Provinvias";
        var api2 = "https://api-vacuna.herokuapp.com/api/Vacunas";
        WebClient cliente = new WebClient();
        var datos1 = cliente.DownloadString(api1);
        var datos2 = cliente.DownloadString(api2);
        provincias = JsonConvert.DeserializeObject<List<Root>>(datos1);
        vacunas = JsonConvert.DeserializeObject<List<Root>>(datos2);

    }

    string cedula, vacuna, provincia;
    DateTime fecha;
    Root resultado;
    List<Root> provincias = new List<Root>();
    List<Root> vacunas = new List<Root>();
    string API;

    public void registrarVacuna()
    {
        //provincia = provincia.Replace(" ", "%20");
        string dia = fecha.Day.ToString();
        string mes = fecha.Month.ToString();
        string year = fecha.Year.ToString();
        API = $"https://api-vacuna.herokuapp.com/api/Registrar_P/" + cedula + "/" + vacuna + "/" + provincia + "/" + dia + "-" + mes + "-" + year;
        WebClient cliente = new WebClient();
        var post = cliente.DownloadString(API);
        resultado = JsonConvert.DeserializeObject<Root>(post);
    }


    public class Root
    {

        public string mensaje { get; set; }
        public string NOMBRE { get; set; } //Provincia
        public string MARCA { get; set; } //Vacuna

    }



#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
